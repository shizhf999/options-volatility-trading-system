# 期权波动率买方交易系统

## 项目简介

基于波动率分析的期权买方决策支持系统，通过分析期权隐含波动率(IV)、历史波动率(HV)、IV Rank/Percentile等指标，为期权买方提供交易决策支持。

## 功能特色

- 📊 **多维度波动率分析**：计算历史波动率、隐含波动率、IV Rank和IV Percentile
- 🎯 **智能决策评分**：基于多项技术指标的综合评分系统
- 📈 **价格趋势判断**：集成价格技术分析，优化买入时机
- 💡 **风险控制**：流动性筛选、DTE优化、希腊字母风险评估
- 📋 **详细报告**：生成Excel格式的分析报告和交易建议

## 系统架构

### 核心模块
- **数据管理**：期货/期权历史数据加载与缓存
- **波动率计算**：HV/IV计算和统计分析
- **评分引擎**：多因子评分和决策逻辑
- **风险控制**：流动性、时间价值等风险筛选
- **报告生成**：Excel输出和可视化

### 技术特点
- 智能缓存机制，提升数据处理效率
- 容错设计，处理各种数据异常情况
- 模块化架构，易于扩展和维护

## 版本历史

**当前版本：v1.8.2**

主要更新：
- v1.8.2: 优化价格趋势判断逻辑
- v1.8.1: 增强流动性筛选机制
- v1.8.0: 加入期权价格趋势要求
- v1.7.0: 增加波动率偏度和峰度分析
- v1.6.0: 修正流动性过滤显示
- v1.5.9: 增加流动性过滤机制

[查看完整版本历史](./期权波动率买方交易系统.py#L6-L55)

## 安装与配置

### 环境要求
```bash
Python 3.7+
pandas
numpy
openpyxl
```

### 配置文件
复制 `config.json.example` 为 `config.json` 并配置数据路径：

```json
{
  "data_paths": {
    "futures_data_dir": "你的期货数据目录",
    "options_data_dir": "你的期权数据目录",
    "output_dir": "输出目录"
  },
  "parameters": {
    "risk_free_rate": 0.02,
    "hv_window": 10,
    "iv_rank_window_days": 365
  }
}
```

## 使用方法

### 基本使用
```bash
python 期权波动率买方交易系统.py
```

### 数据要求
- 期货历史数据：CSV格式，包含日期、开高低收、成交量等
- 期权历史数据：CSV格式，包含期权代码、价格、隐含波动率等
- 期权到期日数据：支持从XLS文件自动获取

### 输出结果
系统会生成包含以下内容的Excel报告：
- 推荐期权合约列表
- 详细评分和决策理由
- 波动率分析数据
- 风险评估指标

## 核心指标说明

### 波动率指标
- **HV (Historical Volatility)**：历史波动率
- **IV (Implied Volatility)**：隐含波动率
- **IV Rank**：当前IV在历史区间中的排名百分位
- **IV Percentile**：当前IV超过历史数据的百分比

### 评分因子
- 波动率相对位置（35%权重）
- DTE到期时间（25%权重）
- 价格趋势（20%权重）
- 流动性（10%权重）
- 希腊字母风险（10%权重）

## 风险提示

⚠️ **重要声明**：
- 本系统仅供学习和研究使用
- 不构成投资建议，请勿直接用于实盘交易
- 期权交易存在高风险，可能导致资金损失
- 使用前请充分了解期权交易规则和风险

## 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 贡献

欢迎提交Issue和Pull Request来改进系统功能。

## 联系方式

如有问题或建议，请通过GitHub Issues联系。

---

**免责声明**：本软件按"现状"提供，不提供任何明示或暗示的担保。使用者需自行承担使用风险。
